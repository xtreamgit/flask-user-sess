{% extends "base.html" %}

{% block title %}Question{% endblock %}

{% block content %}
<div class="row justify-content-center mt-1">
    <div class="col-md-12">
        <div class="container mt-5">
            <div>
                {% if question['number'] | int > 1 %}
                <a href="{{ url_for('display_question', question_number=question['number'] | int - 1) }}" class="btn btn-primary">Previous</a>
                {% endif %}
                {% if question['number'] | int < 270 %}
                <a href="{{ url_for('display_question', question_number=question['number'] | int + 1) }}" class="btn btn-primary">Next</a>
                {% endif %}
            </div>
            <h2>Question {{ question['number'] }}</h2>
            <p>{{ question['text'] }}</p>
            <ul>
                {% for option in question['options'] %}
                    <li>
                        <strong>{{ option['key'] }}:</strong>
                        {% if option['value'] is iterable and not option['value'] is string %}
                            <ul class="nested-ul">
                                {% for step in option['value'] %}
                                    {% if step is mapping %}
                                        {% for key, description in step.items() %}
                                            <li>{{ key }}: {{ description }}</li>
                                        {% endfor %}
                                    {% else %}
                                        <li>{{ step }}</li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        {% else %}
                            {{ option['value'] }}
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
